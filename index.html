<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    Lorem ipsum dolor sit amet consectetur adipisicing elit. Non modi error ut id nam cum ex numquam eligendi quisquam
    delectus, consequuntur eius. Commodi dolorum blanditiis ea. Nulla similique ducimus id cum blanditiis perferendis
    quos tempore dolor aperiam libero natus dignissimos consequuntur est, quia doloribus odio ad ipsa illo illum iste
    cumque deleniti nobis consectetur? Quidem ea eaque cum sint laboriosam. Natus totam fugit, vel omnis harum ex eum
    deleniti ipsum dolorem soluta? Similique a nemo nihil, excepturi inventore voluptates aliquid optio voluptatum
    deserunt consequuntur ipsa ipsum ullam asperiores voluptate ut vitae porro eius ipsam repellendus id cumque
    consectetur deleniti quisquam. Voluptate odit distinctio est, id tenetur debitis et consequuntur nobis odio
    similique, expedita consectetur! Autem, ullam aspernatur nam consequuntur quos reiciendis eos consequatur aliquam
    atque ut doloremque recusandae eum in ea labore, esse vitae quae. Suscipit odit aliquid earum ratione possimus quae
    corrupti? Et nulla iure eum totam aut porro consequatur. Harum aliquid assumenda fugiat dolores laborum labore minus
    magni sequi eum iusto eligendi eaque fuga quibusdam id quisquam, cupiditate ab corporis. Voluptatum aperiam beatae
    perferendis nihil velit commodi reprehenderit excepturi ea provident porro cupiditate esse nam ipsa nostrum saepe,
    quasi maxime labore fugit dolorum suscipit incidunt? Delectus accusamus aspernatur sit molestiae iusto, doloremque
    repudiandae laudantium, ullam aperiam rem, nisi cumque dolores. Quisquam dolor eveniet sint consectetur facere modi
    omnis quaerat inventore, quibusdam nisi illum molestiae itaque amet adipisci numquam totam? Exercitationem velit
    modi minima sed quasi, odit nihil aut at facilis recusandae ipsam aliquid enim alias sunt, ea, repellat rerum
    perferendis a! Nemo aspernatur necessitatibus labore. Reiciendis, aliquam possimus aperiam delectus accusamus id
    eius distinctio ab expedita rerum odio, blanditiis qui, minima minus voluptatibus dolorem repudiandae recusandae!
    Itaque nesciunt et dolorum minus, iusto tempora corrupti sint doloribus corporis aliquid asperiores cum hic eos.
    Sed, saepe dolores iste non praesentium repellendus! Ratione illum nulla quibusdam pariatur qui voluptates debitis.
    Minus autem cumque dolorem animi expedita voluptate voluptates, magni saepe quo inventore est excepturi dicta
    aspernatur. Ullam iusto dolorem perspiciatis explicabo nesciunt sunt vel quaerat aspernatur accusamus maiores
    assumenda est harum accusantium itaque nulla fuga odit deleniti consectetur voluptas provident velit dolores, error
    ipsam ea! Totam eveniet incidunt enim, deserunt culpa recusandae accusantium provident soluta id laudantium.
    Molestias doloribus commodi, molestiae quas ex neque aspernatur alias earum blanditiis hic, sit temporibus ratione
    voluptatem itaque, nam ab suscipit praesentium id repellat voluptatibus? Tenetur tempore nihil ipsa ut eligendi
    dolores, ad tempora animi voluptatum facere minus omnis nemo vitae molestias architecto? Reiciendis minus eaque
    pariatur, est quae tempora ab facere possimus optio, quaerat aliquid molestias qui. Explicabo, earum eveniet? Fugit
    nisi, vitae reiciendis quos molestias incidunt nostrum eius aperiam dolorum blanditiis. Ipsam accusamus excepturi,
    optio consequuntur dolor qui facere sit commodi ea animi facilis repellat esse explicabo sunt, cum vel voluptate
    doloremque sint eius autem! Molestiae repellendus libero quisquam delectus laudantium nesciunt quae saepe ipsam,
    voluptate eveniet, illum neque accusantium illo quaerat enim culpa quasi velit. Minima sequi ipsum totam quaerat
    consectetur ducimus facere fugiat! Enim tempore consequatur voluptatum veritatis doloribus ab beatae nobis? Dicta
    est cum optio accusamus asperiores non quasi, doloremque laboriosam, provident fugit in sint pariatur rerum harum
    quisquam quas suscipit totam architecto voluptate, id beatae ex. Illum, earum quidem alias totam officia numquam
    deleniti non soluta, accusamus perspiciatis iure neque doloribus natus dolor assumenda modi culpa! Excepturi veniam
    eveniet totam illum laudantium odio iusto, eum tempore suscipit ea corporis placeat recusandae aliquid molestias
    natus veritatis id amet. Doloremque beatae provident atque! Repudiandae, dolore. Enim quae rem harum! Sit nisi
    dolores ullam id enim suscipit dolor, dicta maxime. Nisi, architecto. Magnam exercitationem aspernatur suscipit
    illum totam iste recusandae? Molestias non cum dolore mollitia porro fuga natus quisquam nihil! Molestias incidunt
    alias quis neque debitis sunt non et sapiente cupiditate id, odit reiciendis velit autem temporibus soluta libero
    voluptas sit optio ad consequuntur eum. Quidem impedit voluptatem veritatis tempore esse obcaecati, quasi maiores
    consequuntur accusantium illo, dolor corporis cupiditate fugit necessitatibus! Commodi, beatae, totam perspiciatis
    dolorem porro voluptate sint mollitia dolorum quas numquam accusamus odio debitis quidem dicta unde perferendis
    repellat minima, molestias reprehenderit quasi est? Possimus veritatis, doloribus, ratione itaque voluptas dolor
    libero neque ad error tenetur, repellendus magnam in. Perspiciatis error sed et facere maxime blanditiis asperiores
    quidem veritatis id porro temporibus consequuntur officiis laudantium ullam rerum odio necessitatibus magni
    deleniti, assumenda ipsum eius dolore esse neque. At sed, delectus voluptatem sapiente aut, quibusdam nemo quo nam,
    dignissimos a molestias. Obcaecati asperiores ut impedit similique rem tenetur? Nesciunt omnis laborum nam ipsam
    sed. Dolore laudantium sapiente eos praesentium nihil accusantium ratione aliquid rerum nulla, sit rem nam natus
    vero consequuntur labore enim voluptatum. Repellendus quo natus adipisci facere. Reiciendis quam error veniam
    exercitationem accusamus quod. Quod recusandae rem, qui quidem explicabo nihil, ipsum aut doloribus adipisci minus
    consectetur quaerat voluptates quibusdam quia aliquid neque asperiores animi soluta. Velit voluptate quas quos
    exercitationem quibusdam et dignissimos, ipsam sequi excepturi cumque nulla accusantium optio sapiente officiis
    suscipit amet eaque maxime tempora totam perferendis cum tempore labore doloremque esse? Reprehenderit fugiat autem
    quas magni veritatis odit commodi nemo sequi delectus atque error et voluptates harum dignissimos, aperiam sed amet!
    Voluptatum ut quia expedita nobis dolorem alias, eveniet quae voluptas dolorum officiis dolore! Tempora dolor
    tempore ipsum, earum ad non expedita repudiandae fugiat quo voluptatum in illum sed sint inventore dignissimos quia
    quas, quasi possimus veniam? Asperiores aut cumque harum vitae odio qui fugiat. Atque eaque est a nesciunt nam rem
    alias in at inventore necessitatibus tenetur esse explicabo, sapiente amet. Qui provident sequi error
    exercitationem, perferendis, veniam, deleniti odit dolor recusandae in sint! Ratione minus quos eligendi, magni
    beatae corporis molestias voluptatum? Provident voluptas nostrum odio magni corrupti, mollitia, reiciendis libero,
    quia quo neque molestias minima? Voluptatem nobis sint aut atque, illo voluptatum perferendis vitae exercitationem
    debitis, voluptatibus maxime! Ut repudiandae at aperiam ipsum magni accusamus, ratione minus similique in
    perferendis facilis sit perspiciatis, sint hic provident autem reprehenderit qui! Rerum nostrum officia repellat!
    Ducimus ad itaque porro quo praesentium, odit dignissimos dolorem, voluptatem ut eveniet maiores laboriosam ipsum.
    Perferendis, dolores optio? Lorem ipsum dolor sit amet consectetur, adipisicing elit. Deserunt id repellendus minus
    blanditiis eligendi at voluptates, exercitationem eos est odio quod molestiae voluptatum ad asperiores incidunt
    aperiam, error officia unde provident aliquid? Quod doloribus molestias voluptate aliquam eveniet repudiandae animi
    sapiente veritatis, est aliquid. Eligendi quod similique debitis vel odit quo dolores minima minus at? Aut deserunt
    maxime mollitia quaerat maiores temporibus, sunt molestias ratione delectus vel ipsam repellat ut fuga sapiente
    minima saepe, esse cum accusantium nostrum beatae deleniti. Consequuntur odit exercitationem quasi odio! Architecto
    beatae sapiente voluptas modi dolore eligendi cumque commodi iusto corrupti, eos ex eius molestias.
    Lorem ipsum dolor sit amet consectetur adipisicing elit. Non modi error ut id nam cum ex numquam eligendi quisquam
    delectus, consequuntur eius. Commodi dolorum blanditiis ea. Nulla similique ducimus id cum blanditiis perferendis
    quos tempore dolor aperiam libero natus dignissimos consequuntur est, quia doloribus odio ad ipsa illo illum iste
    cumque deleniti nobis consectetur? Quidem ea eaque cum sint laboriosam. Natus totam fugit, vel omnis harum ex eum
    deleniti ipsum dolorem soluta? Similique a nemo nihil, excepturi inventore voluptates aliquid optio voluptatum
    deserunt consequuntur ipsa ipsum ullam asperiores voluptate ut vitae porro eius ipsam repellendus id cumque
    consectetur deleniti quisquam. Voluptate odit distinctio est, id tenetur debitis et consequuntur nobis odio
    similique, expedita consectetur! Autem, ullam aspernatur nam consequuntur quos reiciendis eos consequatur aliquam
    atque ut doloremque recusandae eum in ea labore, esse vitae quae. Suscipit odit aliquid earum ratione possimus quae
    corrupti? Et nulla iure eum totam aut porro consequatur. Harum aliquid assumenda fugiat dolores laborum labore minus
    magni sequi eum iusto eligendi eaque fuga quibusdam id quisquam, cupiditate ab corporis. Voluptatum aperiam beatae
    perferendis nihil velit commodi reprehenderit excepturi ea provident porro cupiditate esse nam ipsa nostrum saepe,
    quasi maxime labore fugit dolorum suscipit incidunt? Delectus accusamus aspernatur sit molestiae iusto, doloremque
    repudiandae laudantium, ullam aperiam rem, nisi cumque dolores. Quisquam dolor eveniet sint consectetur facere modi
    omnis quaerat inventore, quibusdam nisi illum molestiae itaque amet adipisci numquam totam? Exercitationem velit
    modi minima sed quasi, odit nihil aut at facilis recusandae ipsam aliquid enim alias sunt, ea, repellat rerum
    perferendis a! Nemo aspernatur necessitatibus labore. Reiciendis, aliquam possimus aperiam delectus accusamus id
    eius distinctio ab expedita rerum odio, blanditiis qui, minima minus voluptatibus dolorem repudiandae recusandae!
    Itaque nesciunt et dolorum minus, iusto tempora corrupti sint doloribus corporis aliquid asperiores cum hic eos.
    Sed, saepe dolores iste non praesentium repellendus! Ratione illum nulla quibusdam pariatur qui voluptates debitis.
    Minus autem cumque dolorem animi expedita voluptate voluptates, magni saepe quo inventore est excepturi dicta
    aspernatur. Ullam iusto dolorem perspiciatis explicabo nesciunt sunt vel quaerat aspernatur accusamus maiores
    assumenda est harum accusantium itaque nulla fuga odit deleniti consectetur voluptas provident velit dolores, error
    ipsam ea! Totam eveniet incidunt enim, deserunt culpa recusandae accusantium provident soluta id laudantium.
    Molestias doloribus commodi, molestiae quas ex neque aspernatur alias earum blanditiis hic, sit temporibus ratione
    voluptatem itaque, nam ab suscipit praesentium id repellat voluptatibus? Tenetur tempore nihil ipsa ut eligendi
    dolores, ad tempora animi voluptatum facere minus omnis nemo vitae molestias architecto? Reiciendis minus eaque
    pariatur, est quae tempora ab facere possimus optio, quaerat aliquid molestias qui. Explicabo, earum eveniet? Fugit
    nisi, vitae reiciendis quos molestias incidunt nostrum eius aperiam dolorum blanditiis. Ipsam accusamus excepturi,
    optio consequuntur dolor qui facere sit commodi ea animi facilis repellat esse explicabo sunt, cum vel voluptate
    doloremque sint eius autem! Molestiae repellendus libero quisquam delectus laudantium nesciunt quae saepe ipsam,
    voluptate eveniet, illum neque accusantium illo quaerat enim culpa quasi velit. Minima sequi ipsum totam quaerat
    consectetur ducimus facere fugiat! Enim tempore consequatur voluptatum veritatis doloribus ab beatae nobis? Dicta
    est cum optio accusamus asperiores non quasi, doloremque laboriosam, provident fugit in sint pariatur rerum harum
    quisquam quas suscipit totam architecto voluptate, id beatae ex. Illum, earum quidem alias totam officia numquam
    deleniti non soluta, accusamus perspiciatis iure neque doloribus natus dolor assumenda modi culpa! Excepturi veniam
    eveniet totam illum laudantium odio iusto, eum tempore suscipit ea corporis placeat recusandae aliquid molestias
    natus veritatis id amet. Doloremque beatae provident atque! Repudiandae, dolore. Enim quae rem harum! Sit nisi
    dolores ullam id enim suscipit dolor, dicta maxime. Nisi, architecto. Magnam exercitationem aspernatur suscipit
    illum totam iste recusandae? Molestias non cum dolore mollitia porro fuga natus quisquam nihil! Molestias incidunt
    alias quis neque debitis sunt non et sapiente cupiditate id, odit reiciendis velit autem temporibus soluta libero
    voluptas sit optio ad consequuntur eum. Quidem impedit voluptatem veritatis tempore esse obcaecati, quasi maiores
    consequuntur accusantium illo, dolor corporis cupiditate fugit necessitatibus! Commodi, beatae, totam perspiciatis
    dolorem porro voluptate sint mollitia dolorum quas numquam accusamus odio debitis quidem dicta unde perferendis
    repellat minima, molestias reprehenderit quasi est? Possimus veritatis, doloribus, ratione itaque voluptas dolor
    libero neque ad error tenetur, repellendus magnam in. Perspiciatis error sed et facere maxime blanditiis asperiores
    quidem veritatis id porro temporibus consequuntur officiis laudantium ullam rerum odio necessitatibus magni
    deleniti, assumenda ipsum eius dolore esse neque. At sed, delectus voluptatem sapiente aut, quibusdam nemo quo nam,
    dignissimos a molestias. Obcaecati asperiores ut impedit similique rem tenetur? Nesciunt omnis laborum nam ipsam
    sed. Dolore laudantium sapiente eos praesentium nihil accusantium ratione aliquid rerum nulla, sit rem nam natus
    vero consequuntur labore enim voluptatum. Repellendus quo natus adipisci facere. Reiciendis quam error veniam
    exercitationem accusamus quod. Quod recusandae rem, qui quidem explicabo nihil, ipsum aut doloribus adipisci minus
    consectetur quaerat voluptates quibusdam quia aliquid neque asperiores animi soluta. Velit voluptate quas quos
    exercitationem quibusdam et dignissimos, ipsam sequi excepturi cumque nulla accusantium optio sapiente officiis
    suscipit amet eaque maxime tempora totam perferendis cum tempore labore doloremque esse? Reprehenderit fugiat autem
    quas magni veritatis odit commodi nemo sequi delectus atque error et voluptates harum dignissimos, aperiam sed amet!
    Voluptatum ut quia expedita nobis dolorem alias, eveniet quae voluptas dolorum officiis dolore! Tempora dolor
    tempore ipsum, earum ad non expedita repudiandae fugiat quo voluptatum in illum sed sint inventore dignissimos quia
    quas, quasi possimus veniam? Asperiores aut cumque harum vitae odio qui fugiat. Atque eaque est a nesciunt nam rem
    alias in at inventore necessitatibus tenetur esse explicabo, sapiente amet. Qui provident sequi error
    exercitationem, perferendis, veniam, deleniti odit dolor recusandae in sint! Ratione minus quos eligendi, magni
    beatae corporis molestias voluptatum? Provident voluptas nostrum odio magni corrupti, mollitia, reiciendis libero,
    quia quo neque molestias minima? Voluptatem nobis sint aut atque, illo voluptatum perferendis vitae exercitationem
    debitis, voluptatibus maxime! Ut repudiandae at aperiam ipsum magni accusamus, ratione minus similique in
    perferendis facilis sit perspiciatis, sint hic provident autem reprehenderit qui! Rerum nostrum officia repellat!
    Ducimus ad itaque porro quo praesentium, odit dignissimos dolorem, voluptatem ut eveniet maiores laboriosam ipsum.
    Perferendis, dolores optio? Lorem ipsum dolor sit amet consectetur, adipisicing elit. Deserunt id repellendus minus
    blanditiis eligendi at voluptates, exercitationem eos est odio quod molestiae voluptatum ad asperiores incidunt
    aperiam, error officia unde provident aliquid? Quod doloribus molestias voluptate aliquam eveniet repudiandae animi
    sapiente veritatis, est aliquid. Eligendi quod similique debitis vel odit quo dolores minima minus at? Aut deserunt
    maxime mollitia quaerat maiores temporibus, sunt molestias ratione delectus vel ipsam repellat ut fuga sapiente
    minima saepe, esse cum accusantium nostrum beatae deleniti. Consequuntur odit exercitationem quasi odio! Architecto
    beatae sapiente voluptas modi dolore eligendi cumque commodi iusto corrupti, eos ex eius molestias.


    <script>


        let lastScrollPosition = window.pageYOffset;
        let scrollThreshold = 50;
        let lastScrollTime = new Date().getTime();

        // Scroll Behavior
        window.addEventListener('scroll', function () {
            let currentScrollPosition = window.pageYOffset;
            let currentTime = new Date().getTime();
            let timeDiff = currentTime - lastScrollTime;
            let scrollSpeed = (lastScrollPosition - currentScrollPosition) / timeDiff;

            if (scrollSpeed > scrollThreshold && currentScrollPosition < lastScrollPosition) {
                
                fetch('https://userleavingevent.free.beeceptor.com/exitIntent', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(
                        {
                            "key": 'Exit intent detected via scroll. ( scroll )'
                        }
                    )
                })

            }

            lastScrollPosition = currentScrollPosition;
            lastScrollTime = currentTime;
        });

        // Back Button Press
        window.addEventListener('popstate', function () {
     
            fetch('https://userleavingevent.free.beeceptor.com/exitIntentBackButton', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(
                        {
                            "key": 'Exit intent detected via back button. ( popstate )'
                        }
                    )
                })

        });

        // Tab Switch or Browser Minimize
        document.addEventListener('visibilitychange', function () {
            if (document.hidden) {
               
                //It work when tab switch mean i open other app in parallel
                fetch('https://userleavingevent.free.beeceptor.com/tabSwitch', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(
                        {
                            "key": 'Exit intent detected via tab switch. ( visibilitychange )'
                        }
                    )
                })
            }
        });


        // Detect when the user is about to leave the page (e.g., close tab, navigate away)
        window.addEventListener('beforeunload', function (event) {
            // Perform any action like analytics or logging
           
            fetch('https://userleavingevent.free.beeceptor.com/beforeunload', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(
                        {
                            "key": 'User is about to leave the page. ( beforeunload )'
                        }
                    )
                })

            // Optionally, show a custom confirmation dialog (modern browsers might ignore it)
            // event.preventDefault();
            // event.returnValue = ''; // The modern way to show a confirmation dialog.
        });






    </script>


</body>

</html>